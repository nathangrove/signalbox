### Webmail single env example
# Copy this file to `.env` and customize for your environment before running `docker-compose`.

# Database (Postgres container created by compose)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/webmail

# Redis (container)
REDIS_URL=redis://redis:6379

# MinIO (container)
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
MINIO_ENDPOINT=http://minio:9000
MINIO_BUCKET=webmail

# Server settings
PORT=3000
FRONTEND_URL=http://localhost:3001
JWT_SECRET=dev-secret
ENCRYPTION_KEY=default-dev-key-32-chars-long!!!
UPLOAD_DIR=/tmp/uploads

# OAuth / External
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_REDIRECT=http://localhost:3000/auth/google/callback

# OpenAI / AI provider (leave blank to disable external LLM calls)
OPENAI_API_KEY=
OPENAI_API_BASE=
OPENAI_MODEL=gpt-4o-mini

# Classifier
CLASSIFIER_URL=http://classifier:8000
CLASSIFIER_REQUEST_TIMEOUT_MS=10000

# Misc
NODE_ENV=development
# Database (Postgres)
# Example: postgresql://user:password@host:port/dbname
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/webmail

### Webmail consolidated env example
# Copy this file to `.env` and customize for your environment before running `docker-compose`.
# Keep secrets out of source control.

########################################
# Core services
########################################
# Postgres connection (for docker-compose use host `postgres`)
# Example: postgresql://user:pass@host:5432/dbname
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/webmail

# Redis used by queues/pubsub
REDIS_URL=redis://redis:6379

# MinIO (object storage for attachments)
MINIO_ENDPOINT=http://minio:9000
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
MINIO_BUCKET=webmail

########################################
# Server / runtime
########################################
# Port the server binds to inside the container
PORT=3000

# Frontend URL used for OAuth redirects (maps to host port `3001` -> container `5173` by compose)
FRONTEND_URL=http://localhost:3001

# JWT signing secret (replace for production)
JWT_SECRET=dev-secret

# Symmetric encryption key used to encrypt account credentials
# Must be 32+ characters for AES-256
ENCRYPTION_KEY=default-dev-key-32-chars-long!!!

# Directory for file uploads inside the container
UPLOAD_DIR=/tmp/uploads

NODE_ENV=development

########################################
# OAuth / third-party
########################################
# Google OAuth (create in Google Cloud Console)
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
# Redirect URI should match the registered value
GOOGLE_OAUTH_REDIRECT=http://localhost:3000/api/v1/auth/google/callback

########################################
# AI / LLM integration
########################################
# Optional OpenAI-compatible provider
OPENAI_API_KEY=
OPENAI_API_BASE=
OPENAI_MODEL=gpt-4o-mini
OPENAI_PARSE_MODEL=
OPENAI_SUMMARY_MODEL=
OPENAI_REQUEST_TIMEOUT_MS=60000
OPENAI_MAX_RETRIES=2
OPENAI_RETRY_BASE_MS=1000

# Local Ollama URL (optional)
#OLLAMA_URL=http://localhost:11434

########################################
# Classifier & worker tuning
########################################
CLASSIFIER_URL=http://classifier:8000
CLASSIFIER_REQUEST_TIMEOUT_MS=10000

# Worker/concurrency tuning (optional)
AI_CONCURRENCY=2
PARSE_CONCURRENCY=3

########################################
# Misc / debug
########################################
# IMAP debug logging (true/false)
IMAP_DEBUG=false

# Any other env vars can be added below as needed
# Frontend Vite API base (used when running frontend locally)
# Example: http://localhost:3000/v1
VITE_API_BASE=http://localhost:3000/v1